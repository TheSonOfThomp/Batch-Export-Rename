{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/dialog.js","webpack://exports/./src/macos-ui.js","webpack://exports/./src/rename-export.js","webpack://exports/./src/utils.js","webpack://exports/external \"sketch\"","webpack://exports/external \"sketch/settings\""],"names":["DIALOG_TITLE","ELEMENT_HEIGHT","DIALOG_ELEMENTS","type","id","value","paddingBottom","label","default","placeholder","viewContents","createDialog","previousSetting","dialog","NSAlert","alloc","init","setMessageText","addButtonWithTitle","COUNT_ELEMENTS","length","PADDING","map","elem","reduce","acc","pad","TOTAL_MODAL_HEIGHT","customView","NSView","initWithFrame","NSMakeRect","position_next_elem","element","i","yPos","UIElement","createLabel","createSelect","createCheckbox","createTextbox","frame","size","text","selectItemWithTitle","selectCase","setEnabled","useFullName","setStringValue","prefix","selectFormat","selectScale","forEach","subview","addSubview","setAccessoryView","rect","x","y","w","h","bold","NSTextField","setBezeled","setDrawsBackground","setEditable","setSelectable","setFont","NSFont","boldSystemFontOfSize","systemFontOfSize","placeholderString","items","select","NSPopUpButton","menu","addItem","NSMenuItem","separatorItem","addItemWithTitle","name","onstate","enabled","checkbox","NSButton","setButtonType","NSSwitchButton","setTitle","setTag","setState","NSOnState","NSOffState","PREFS_KEY","context","doc","sketch","getSelectedDocument","selection","selectedLayers","UI","message","previousSettings","settings","settingForKey","runModal","NSAlertFirstButtonReturn","caseElemIdx","findIndex","prefixElemIdx","fullNameElemIdx","formatElemIdx","scaleElemIdx","caseIndex","indexOfSelectedItem","stringValue","isFullName","state","formatvalueIndex","scaleValueIndex","prefs","Boolean","setSettingForKey","open","NSOpenPanel","openPanel","canChooseFiles","canChooseDirectories","canCreateDirectories","path","URL","layers","originalLayerNames","layer","fileFormat","scale","replace","newName","substring","lastIndexOf","toKebab","toSnake","toCamel","exportOptions","formats","scales","output","export","allDelimiters","delimitString","str","delimiter","split","filter","chunk","join","toLowerCase","charAt","toUpperCase","slice","toPascal","camel"],"mappings":"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","file":"__rename-export.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/rename-export.js\");\n","import {\n  createLabel,\n  createTextbox,\n  createSelect,\n  createCheckbox\n} from './macos-ui'\n\nconst DIALOG_TITLE = \"Flat Export\"\n\nconst ELEMENT_HEIGHT = 24;\nconst DIALOG_ELEMENTS = [\n  {\n    type: 'label',\n    id: 'caseLabel',\n    value: 'Name format:',\n    paddingBottom: -2\n  },\n  {\n    type: 'select',\n    id: 'selectCase',\n    value: ['kebab-case', 'snake_case', 'camelCase'],\n    paddingBottom: 8\n  },\n  {\n    type: 'checkbox',\n    id: 'fullName',\n    label: 'Use full layer name',\n    value: 'full-name',\n    default: true,\n    paddingBottom: 8\n  },\n  {\n    type: 'label',\n    id: 'prefixLabel',\n    value: 'Name prefix:',\n    paddingBottom: -2\n  },\n  {\n    type: 'text',\n    id: 'prefix',\n    value: '',\n    placeholder: 'Prefix',\n    paddingBottom: 8\n  },\n  {\n    type: 'label',\n    id: 'fileFormat',\n    value: 'File format:',\n    paddingBottom: -2\n  },\n  {\n    type: 'select',\n    id: 'selectFormat',\n    value: ['svg', 'png', 'jpg'],\n    paddingBottom: 8\n  },\n  {\n    type: 'label',\n    id: 'outputScale',\n    value: 'Scale',\n    paddingBottom: -2\n  },\n  {\n    type: 'select',\n    id: 'selectScale',\n    value: ['@1x', '@2x', '@3x'],\n    paddingBottom: 8\n  },\n]\n\nlet viewContents = null\n\n// Create a custom dialog\nfunction createDialog(previousSetting) {\n  const dialog = NSAlert.alloc().init();\n\n  dialog.setMessageText(DIALOG_TITLE);\n  dialog.addButtonWithTitle(\"Continue\");\n  dialog.addButtonWithTitle(\"Cancel\");\n\n  const COUNT_ELEMENTS = DIALOG_ELEMENTS.length\n  const PADDING = DIALOG_ELEMENTS.map(elem => elem.paddingBottom).reduce((acc, pad) => acc + pad, 0)\n  const TOTAL_MODAL_HEIGHT = COUNT_ELEMENTS * (ELEMENT_HEIGHT) + PADDING\n  const customView = NSView.alloc().initWithFrame(NSMakeRect(0, 0, 200, TOTAL_MODAL_HEIGHT));\n  let position_next_elem = ELEMENT_HEIGHT\n\n  viewContents = DIALOG_ELEMENTS.map((element, i) => {\n    let type = element.type\n\n    // let padding = (i === 0 || i === 1 || i === 4) ? 0 : element.paddingBottom\n    let yPos = TOTAL_MODAL_HEIGHT - position_next_elem // ((i+1) * (ELEMENT_HEIGHT))\n\n    let UIElement;\n\n    if (type == 'label') {\n      UIElement = createLabel(NSMakeRect(0, yPos, 200, ELEMENT_HEIGHT), 12, false, element.value);\n    } else if (type == 'select') {\n      UIElement = createSelect(NSMakeRect(0, yPos, 200, ELEMENT_HEIGHT), element.value)\n    } else if (type == 'checkbox') {\n      UIElement = createCheckbox(NSMakeRect(0, yPos, 200, ELEMENT_HEIGHT), element.label, element.value, element.default, true);\n    } else if (type == 'text') {\n      UIElement = createTextbox({\n        frame: NSMakeRect(0, yPos, 200, ELEMENT_HEIGHT),\n        size: 12,\n        text: element.value,\n        placeholder: element.placeholder\n      })\n    }\n\n    if (typeof previousSetting !== 'undefined') {\n      if (element.id == 'selectCase') {\n        UIElement.selectItemWithTitle(previousSetting.selectCase)\n      } else if (element.id == 'fullName') {\n        UIElement.setEnabled(previousSetting.useFullName)\n      } else if (element.id == 'prefix') {\n        UIElement.setStringValue(previousSetting.prefix)\n      } else if (element.id == 'selectFormat') {\n        UIElement.selectItemWithTitle(previousSetting.selectFormat)\n      } else if (element.id == 'selectScale') {\n        UIElement.selectItemWithTitle(previousSetting.selectScale)\n      }\n    }\n\n    position_next_elem += ELEMENT_HEIGHT + element.paddingBottom\n\n    return UIElement\n  })\n\n  viewContents.forEach(subview => {\n    customView.addSubview(subview)\n  })\n  dialog.setAccessoryView(customView)\n\n  return dialog\n}\n\nexport { createDialog, viewContents, DIALOG_ELEMENTS }","// -------------------------------------------------\n// --------------- Dialog formatting ---------------\n// -------------------------------------------------\nexport function rect(x, y, w, h) {\n  var rect = NSMakeRect(x, y, w, h)\n  return rect;\n}\n\nexport function createLabel(frame, size, bold, text) {\n  var label = NSTextField.alloc().initWithFrame(frame);\n  label.setStringValue(text);\n  label.setBezeled(false);\n  label.setDrawsBackground(false);\n  label.setEditable(false);\n  label.setSelectable(false);\n  if (bold) {\n    label.setFont(NSFont.boldSystemFontOfSize(size));\n  }\n  else {\n    label.setFont(NSFont.systemFontOfSize(size));\n  }\n  return label;\n}\n\nexport function createTextbox({ frame, size, bold, text, placeholder }) {\n  var label = NSTextField.alloc().initWithFrame(frame);\n  label.setStringValue(text);\n  label.setBezeled(true);\n  label.setDrawsBackground(true);\n  label.setEditable(true);\n  label.setSelectable(true);\n  label.placeholderString = placeholder\n  if (bold) {\n    label.setFont(NSFont.boldSystemFontOfSize(size));\n  }\n  else {\n    label.setFont(NSFont.systemFontOfSize(size));\n  }\n  return label;\n}\n\nexport function createSelect(frame, items) {\n  var select = NSPopUpButton.alloc().initWithFrame(frame);\n  for (var i = 0; i < items.length; i++) {\n    if (items[i] == \"--\") {\n      select.menu().addItem(NSMenuItem.separatorItem())\n    } else {\n      select.addItemWithTitle(items[i])\n    }\n  }\n  return select;\n}\n\nexport function createCheckbox(frame, name, value, onstate, enabled) {\n  var checkbox = NSButton.alloc().initWithFrame(frame);\n  checkbox.setButtonType(NSSwitchButton);\n  // checkbox.setBezelStyle(1);\n  checkbox.setTitle(name);\n  checkbox.setTag(value);\n  checkbox.setState(onstate ? NSOnState : NSOffState);\n  checkbox.setEnabled(enabled);\n  return checkbox;\n}","// documentation: https://developer.sketchapp.com/reference/api/\nimport sketch from 'sketch'\nimport settings from 'sketch/settings'\n\nimport { viewContents, DIALOG_ELEMENTS, createDialog } from './dialog'\n\nimport {\n  toSnake,\n  toKebab,\n  toCamel\n} from './utils'\n\nconst PREFS_KEY = \"previous_settings\"\n\n// -------------------------------------------------\n// ------------------- The Plugin ------------------\n// -------------------------------------------------\n\nexport default function(context) {\n\n  const doc = sketch.getSelectedDocument()\n  if (!doc) return\n  const selection = doc.selectedLayers\n\n  if (selection.length === 0) {\n    sketch.UI.message('No layers are selected.')\n    return\n  } else {\n\n    // Load user settings\n    var previousSettings = settings.settingForKey(PREFS_KEY)\n    const dialog = createDialog(previousSettings)\n\n    // Run the dialog\n    if (dialog.runModal() !== NSAlertFirstButtonReturn) {\n      return\n    } else {\n      const caseElemIdx = DIALOG_ELEMENTS.findIndex(elem => elem.id === 'selectCase')\n      const prefixElemIdx = DIALOG_ELEMENTS.findIndex(elem => elem.id === 'prefix')\n      const fullNameElemIdx = DIALOG_ELEMENTS.findIndex(elem => elem.id === 'fullName')\n      const formatElemIdx = DIALOG_ELEMENTS.findIndex(elem => elem.id === 'selectFormat')\n      const scaleElemIdx = DIALOG_ELEMENTS.findIndex(elem => elem.id === 'selectScale')\n    \n      // Save the responses from that modal\n      const caseIndex = viewContents[caseElemIdx].indexOfSelectedItem();\n      const prefix = viewContents[prefixElemIdx].stringValue()\n      const isFullName = viewContents[fullNameElemIdx].state();\n      const formatvalueIndex = viewContents[formatElemIdx].indexOfSelectedItem();\n      const scaleValueIndex = viewContents[scaleElemIdx].indexOfSelectedItem();\n      \n      // sketch.UI.message(`${caseIndex}, ${prefix}, ${isFullName}, ${formatvalueIndex}`)\n\n      // Save user settings\n      let prefs = {\n        \"selectCase\": DIALOG_ELEMENTS[caseElemIdx].value[caseIndex],\n        \"useFullName\": new Boolean(isFullName),\n        \"prefix\": `${prefix}`,\n        \"selectFormat\": DIALOG_ELEMENTS[formatElemIdx].value[formatvalueIndex],\n        \"selectScale\": DIALOG_ELEMENTS[scaleElemIdx].value[scaleValueIndex]\n      }\n      settings.setSettingForKey(PREFS_KEY, prefs)\n\n      // Create an Open dialog\n      const open = NSOpenPanel.openPanel();\n      open.canChooseFiles = false\n      open.canChooseDirectories = true\n      open.canCreateDirectories = true\n    \n      // run the open dialog\n      if (open.runModal()) {\n        const path = open.URL().path();\n        const layers = selection.layers\n    \n        // Preserve the original layer names so we can change them back\n        const originalLayerNames = layers.map(layer => layer.name)\n    \n        // Get the selected file format\n        const fileFormat = DIALOG_ELEMENTS[formatElemIdx].value[formatvalueIndex]\n\n        const scale = DIALOG_ELEMENTS[scaleElemIdx].value[scaleValueIndex].replace(/[@x]/, '')\n    \n        // Change the file names appropriately\n        layers.forEach(layer => {\n          let newName = isFullName ? layer.name : layer.name.substring(layer.name.lastIndexOf('/') + 1, layer.name.length) \n\n          newName = (prefix == '') // NOT === because prefix is an object (...?)\n            ? newName\n            : `${prefix}-${newName}`\n          \n          if (caseIndex === 0) {\n            layer.name = toKebab(newName)\n          }\n          else if (caseIndex === 1) {\n            layer.name = toSnake(newName)\n          }\n          else if (caseIndex === 2) {\n            layer.name = toCamel(newName)\n          }\n        })\n\n        // Set the format and save path\n        const exportOptions = {\n          formats: fileFormat,\n          scales: scale,\n          output: path,\n        }\n        \n        // Export the layers\n        sketch.export(layers, exportOptions)\n    \n        // Reset the layer names\n        layers.forEach((layer, i) => {\n          layer.name = originalLayerNames[i]\n        })\n        // Show confirmation\n        sketch.UI.message(`Exported ${layers.length} layers.`)\n      }\n    }\n  }\n  \n}","// -------------------------------------------------\n// ---------------- Text formatting ----------------\n// -------------------------------------------------\n\nconst allDelimiters = /[\\ \\\\\\/\\_\\-\\–\\—]/g\n\nexport function delimitString(str, delimiter) {\n  return str.replace(allDelimiters, delimiter)\n    .split(delimiter)\n    .filter(chunk => chunk.length !== 0)\n    .join(delimiter)\n    .toLowerCase()\n}\n\nexport function toSnake(str) {\n  const delimiter = '_'\n  if (typeof str !== 'string') return \"\"\n  return delimitString(str, delimiter)\n}\n\nexport function toKebab(str) {\n  const delimiter = '-'\n  if (typeof str !== 'string') return \"\"\n  return delimitString(str, delimiter)\n}\n\nexport function toCamel(str) {\n  if (typeof str !== 'string') return \"\"\n  str = delimitString(str, ' ').split(allDelimiters)\n  if(str.length > 1) {\n    for (var i = 1; i < str.length; i++) {\n      str[i] = str[i].charAt(0).toUpperCase() + str[i].slice(1);\n    }\n  }\n  return str.join('');\n}\n\nexport function toPascal(str) {\n  const camel = toCamel(str)\n  return camel.charAt(0).toUpperCase() + camel.slice(1)\n}","module.exports = require(\"sketch\");","module.exports = require(\"sketch/settings\");"],"sourceRoot":""}