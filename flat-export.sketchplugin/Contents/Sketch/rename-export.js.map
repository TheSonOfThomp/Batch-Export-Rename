{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/rename-export.js","webpack://exports/external \"sketch\""],"names":["rect","x","y","w","h","NSMakeRect","createLabel","frame","size","bold","text","label","NSTextField","alloc","initWithFrame","setStringValue","setBezeled","setDrawsBackground","setEditable","setSelectable","setFont","NSFont","boldSystemFontOfSize","systemFontOfSize","createTextbox","placeholder","placeholderString","createSelect","items","select","NSPopUpButton","i","length","menu","addItem","NSMenuItem","separatorItem","addItemWithTitle","createCheckbox","name","value","onstate","enabled","checkbox","NSButton","setButtonType","NSSwitchButton","setTitle","setTag","setState","NSOnState","NSOffState","setEnabled","toSnake","str","replace","toLowerCase","toKebab","toCamel","split","charAt","toUpperCase","slice","join","context","doc","sketch","getSelectedDocument","selection","selectedLayers","UI","message","dialog","NSAlert","init","setMessageText","addButtonWithTitle","dialogContents","type","id","paddingBottom","default","numElements","elemHeight","totalPadding","map","elem","reduce","acc","pad","totalHeight","customView","NSView","posOfNextElement","viewContents","element","yPos","UIElement","forEach","subview","addSubview","setAccessoryView","runModal","NSAlertFirstButtonReturn","caseElemIdx","findIndex","prefixElemIdx","fullNameElemIdx","formatElemIdx","caseIndex","indexOfSelectedItem","prefix","stringValue","isFullName","state","formatIndex","open","NSOpenPanel","openPanel","canChooseFiles","canChooseDirectories","canCreateDirectories","path","URL","layers","originalLayerNames","layer","fileFormat","newName","substring","lastIndexOf","exportOptions","formats","output","export"],"mappings":"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","file":"rename-export.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/rename-export.js\");\n","import sketch from 'sketch'\n// documentation: https://developer.sketchapp.com/reference/api/\n\n// -------------------------------------------------\n// --------------- Dialog formatting ---------------\n// -------------------------------------------------\nfunction rect(x, y, w, h) {\n  var rect = NSMakeRect(x, y, w, h)\n  return rect;\n}\n\nfunction createLabel(frame, size, bold, text) {\n  var label = NSTextField.alloc().initWithFrame(frame);\n  label.setStringValue(text);\n  label.setBezeled(false);\n  label.setDrawsBackground(false);\n  label.setEditable(false);\n  label.setSelectable(false);\n  if (bold) {\n    label.setFont(NSFont.boldSystemFontOfSize(size));\n  }\n  else {\n    label.setFont(NSFont.systemFontOfSize(size));\n  }\n  return label;\n}\n\nfunction createTextbox({frame, size, bold, text, placeholder}) {\n  var label = NSTextField.alloc().initWithFrame(frame);\n  label.setStringValue(text);\n  label.setBezeled(true);\n  label.setDrawsBackground(true);\n  label.setEditable(true);\n  label.setSelectable(true);\n  label.placeholderString = placeholder\n  if (bold) {\n    label.setFont(NSFont.boldSystemFontOfSize(size));\n  }\n  else {\n    label.setFont(NSFont.systemFontOfSize(size));\n  }\n  return label;\n}\n\nfunction createSelect(frame, items) {\n  var select = NSPopUpButton.alloc().initWithFrame(frame);\n  for (var i = 0; i < items.length; i++) {\n    if (items[i] == \"--\") {\n      select.menu().addItem(NSMenuItem.separatorItem())\n    } else {\n      select.addItemWithTitle(items[i])\n    }\n  }\n  return select;\n}\n\nfunction createCheckbox(frame, name, value, onstate, enabled) {\n  var checkbox = NSButton.alloc().initWithFrame(frame);\n  checkbox.setButtonType(NSSwitchButton);\n  // checkbox.setBezelStyle(1);\n  checkbox.setTitle(name);\n  checkbox.setTag(value);\n  checkbox.setState(onstate ? NSOnState : NSOffState);\n  checkbox.setEnabled(enabled);\n  return checkbox;\n}\n\n// -------------------------------------------------\n// ---------------- Text formatting ----------------\n// -------------------------------------------------\n\nfunction toSnake(str) {\n  if (typeof str !== 'string') return \"\"\n  return str.replace(/[\\ \\\\\\/\\-\\–\\—]/g, '_').toLowerCase()\n}\n\nfunction toKebab(str) {\n  if (typeof str !== 'string') return \"\"\n  return str.replace(/[\\ \\\\\\/\\_]/g, '-').toLowerCase()\n}\n\nfunction toCamel(str){\n  if (typeof str !== 'string') return \"\"\n  str = str.toLowerCase().split(/[\\ \\\\\\/\\_\\-\\–\\—]/g)\n  for (var i = 0; i < str.length; i++) {\n    str[i] = str[i].charAt(0).toUpperCase() + str[i].slice(1);\n  }\n  return str.join('');\n}\n\n// -------------------------------------------------\n// ------------------- The Plugin ------------------\n// -------------------------------------------------\n\nexport default function(context) {\n\n  const doc = sketch.getSelectedDocument()\n  const selection = doc.selectedLayers\n\n  if (selection.length === 0) {\n    sketch.UI.message('No layers are selected.')\n  } else {\n    // Create a custom dialog\n    var dialog = NSAlert.alloc().init();\n\n    dialog.setMessageText(\"Flat Export\");\n    dialog.addButtonWithTitle(\"Continue\");\n    dialog.addButtonWithTitle(\"Cancel\");\n\n    // Create custom view and fields\n    \n    var dialogContents = [\n      {\n        type: 'label',\n        id: 'caseLabel',\n        value: 'Name format:',\n        paddingBottom: -2\n      },\n      {\n        type: 'select',\n        id: 'selectCase',\n        value: ['kebab-case', 'snake_case', 'camelCase'],\n        paddingBottom: 8\n      },\n      {\n        type: 'checkbox',\n        id: 'fullName',\n        label: 'Use full layer name',\n        value: 'full-name',\n        default: true,\n        paddingBottom: 8\n      },\n      {\n        type: 'label',\n        id: 'prefixLabel',\n        value: 'Name prefix:',\n        paddingBottom: -2\n      },\n      {\n        type: 'text',\n        id: 'prefix',\n        value: '',\n        placeholder: 'Prefix',\n        paddingBottom: 8\n      },\n      {\n        type: 'label',\n        id: 'fileFormat',\n        value: 'File format:',\n        paddingBottom: -2\n      },\n      {\n        type: 'select',\n        id: 'selectFormat',\n        value: ['svg', 'png', 'jpg'],\n        paddingBottom: 8\n      },\n    ]\n    \n    const numElements = dialogContents.length\n    const elemHeight = 24;\n    const totalPadding = dialogContents.map(elem => elem.paddingBottom).reduce((acc, pad) => acc + pad, 0)\n    const totalHeight = numElements * (elemHeight) + totalPadding\n    var customView = NSView.alloc().initWithFrame(NSMakeRect(0, 0, 200, totalHeight));\n    var posOfNextElement = 24\n\n    const viewContents = dialogContents.map((element, i) => {\n      let type = element.type\n\n      // let padding = (i === 0 || i === 1 || i === 4) ? 0 : element.paddingBottom\n      let yPos = totalHeight - posOfNextElement // ((i+1) * (elemHeight))\n\n      let UIElement; \n\n      if (type == 'label') {\n        UIElement = createLabel(NSMakeRect(0, yPos, 200, elemHeight), 12, false, element.value);\n      } else if (type == 'select') {\n        UIElement = createSelect(NSMakeRect(0, yPos, 200, elemHeight), element.value)\n      } else if (type == 'checkbox') {\n        UIElement = createCheckbox(NSMakeRect(0, yPos, 200, elemHeight), element.label, element.value, element.default, true);\n      } else if (type == 'text') {\n        UIElement = createTextbox({\n          frame: NSMakeRect(0, yPos, 200, elemHeight), \n          size: 12, \n          text: element.value,\n          placeholder: element.placeholder\n        })\n      }\n\n      posOfNextElement += elemHeight + element.paddingBottom\n\n      return UIElement\n    })\n\n    viewContents.forEach(subview => {\n      customView.addSubview(subview)\n    })\n    dialog.setAccessoryView(customView)\n\n    // Run the dialog\n    if (dialog.runModal() !== NSAlertFirstButtonReturn) {\n      return\n    } else {\n      \n      const caseElemIdx = dialogContents.findIndex(elem => elem.id === 'selectCase')\n      const prefixElemIdx = dialogContents.findIndex(elem => elem.id === 'prefix')\n      const fullNameElemIdx = dialogContents.findIndex(elem => elem.id === 'fullName')\n      const formatElemIdx = dialogContents.findIndex(elem => elem.id === 'selectFormat')\n\n      // Save the responses from that modal\n      const caseIndex = viewContents[caseElemIdx].indexOfSelectedItem();\n      const prefix = viewContents[prefixElemIdx].stringValue()\n      const isFullName = viewContents[fullNameElemIdx].state();\n      const formatIndex = viewContents[formatElemIdx].indexOfSelectedItem();\n\n      // sketch.UI.message(`${caseIndex}, ${prefix}, ${isFullName}, ${formatIndex}`)\n      \n      // Create an Open dialog\n      var open = NSOpenPanel.openPanel();\n      open.canChooseFiles = false\n      open.canChooseDirectories = true\n      open.canCreateDirectories = true\n  \n      // run the open dialog\n      if (open.runModal()) {\n        var path = open.URL().path();\n        const layers = selection.layers\n\n        // Preserve the original layer names so we can change them back\n        const originalLayerNames = layers.map(layer => layer.name)\n\n        // Get the selected file format\n        const fileFormat = dialogContents[formatElemIdx].value[formatIndex]\n\n        // Change the file names appropriately\n        layers.forEach(layer => {\n          let newName = isFullName ? layer.name : layer.name.substring(layer.name.lastIndexOf('/') + 1, layer.name.length) \n          newName = prefix == '' // NOT === because prefix is an object (...?)\n            ? newName\n            : `${prefix}-${newName}`\n          \n          if (caseIndex === 0) {\n            layer.name = toKebab(newName)\n          }\n          else if (caseIndex === 1) {\n            layer.name = toSnake(newName)\n          }\n          else if (caseIndex === 2) {\n            layer.name = toCamel(newName)\n          }\n        })\n\n        // Set the format and save path\n        const exportOptions = {\n          formats: fileFormat,\n          output: path\n        }\n        \n        // Export the layers\n        sketch.export(layers, exportOptions)\n  \n  \n        // Reset the layer names\n        layers.forEach((layer, i) => {\n          layer.name = originalLayerNames[i]\n        })\n        // Show confirmation\n        sketch.UI.message(`Exported ${layers.length} layers`)\n      }\n    }\n  }\n}","module.exports = require(\"sketch\");"],"sourceRoot":""}