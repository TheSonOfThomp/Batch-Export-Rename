var globalThis=this,global=this;function __skpm_run(e,t){globalThis.context=t;try{var n=function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=require("sketch")},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a);var r=[{type:"label",id:"caseLabel",value:"Name format:",paddingBottom:-2},{type:"select",id:"selectCase",value:["kebab-case","snake_case","camelCase"],paddingBottom:8},{type:"checkbox",id:"fullName",label:"Use full layer name",value:"full-name",default:!0,paddingBottom:8},{type:"label",id:"prefixLabel",value:"Name prefix:",paddingBottom:-2},{type:"text",id:"prefix",value:"",placeholder:"Prefix",paddingBottom:8},{type:"label",id:"fileFormat",value:"File format:",paddingBottom:-2},{type:"select",id:"selectFormat",value:["svg","png","jpg"],paddingBottom:8},{type:"label",id:"outputScale",value:"Scale",paddingBottom:-2},{type:"select",id:"selectScale",value:["@1x","@2x","@3x"],paddingBottom:8}],i=NSAlert.alloc().init();i.setMessageText("Flat Export"),i.addButtonWithTitle("Continue"),i.addButtonWithTitle("Cancel");var l=24*r.length+r.map((function(e){return e.paddingBottom})).reduce((function(e,t){return e+t}),0),u=NSView.alloc().initWithFrame(NSMakeRect(0,0,200,l)),c=24,s=r.map((function(e,t){var n,a,o,r,i,u,s=e.type,d=l-c;return"label"==s?(a=NSMakeRect(0,d,200,24),o=12,r=!1,i=e.value,(u=NSTextField.alloc().initWithFrame(a)).setStringValue(i),u.setBezeled(!1),u.setDrawsBackground(!1),u.setEditable(!1),u.setSelectable(!1),r?u.setFont(NSFont.boldSystemFontOfSize(o)):u.setFont(NSFont.systemFontOfSize(o)),n=u):"select"==s?n=function(e,t){for(var n=NSPopUpButton.alloc().initWithFrame(e),a=0;a<t.length;a++)"--"==t[a]?n.menu().addItem(NSMenuItem.separatorItem()):n.addItemWithTitle(t[a]);return n}(NSMakeRect(0,d,200,24),e.value):"checkbox"==s?n=function(e,t,n,a,o){var r=NSButton.alloc().initWithFrame(e);return r.setButtonType(NSSwitchButton),r.setTitle(t),r.setTag(n),r.setState(a?NSOnState:NSOffState),r.setEnabled(o),r}(NSMakeRect(0,d,200,24),e.label,e.value,e.default,!0):"text"==s&&(n=function(e){var t=e.frame,n=e.size,a=e.bold,o=e.text,r=e.placeholder,i=NSTextField.alloc().initWithFrame(t);return i.setStringValue(o),i.setBezeled(!0),i.setDrawsBackground(!0),i.setEditable(!0),i.setSelectable(!0),i.placeholderString=r,a?i.setFont(NSFont.boldSystemFontOfSize(n)):i.setFont(NSFont.systemFontOfSize(n)),i}({frame:NSMakeRect(0,d,200,24),size:12,text:e.value,placeholder:e.placeholder})),c+=24+e.paddingBottom,n}));s.forEach((function(e){u.addSubview(e)})),i.setAccessoryView(u);t.default=function(e){var t=o.a.getSelectedDocument();if(t){var n=t.selectedLayers;if(0!==n.length){if(i.runModal()===NSAlertFirstButtonReturn){var a=r.findIndex((function(e){return"selectCase"===e.id})),l=r.findIndex((function(e){return"prefix"===e.id})),u=r.findIndex((function(e){return"fullName"===e.id})),c=r.findIndex((function(e){return"selectFormat"===e.id})),d=r.findIndex((function(e){return"selectScale"===e.id})),f=s[a].indexOfSelectedItem(),p=s[l].stringValue(),m=s[u].state(),g=s[c].indexOfSelectedItem(),S=s[d].indexOfSelectedItem(),h=NSOpenPanel.openPanel();if(h.canChooseFiles=!1,h.canChooseDirectories=!0,h.canCreateDirectories=!0,h.runModal()){var x=h.URL().path(),b=n.layers,v=b.map((function(e){return e.name})),y=r[c].value[g],F=r[d].value[S].replace(/[@x]/,"");b.forEach((function(e){var t,n=m?e.name:e.name.substring(e.name.lastIndexOf("/")+1,e.name.length);n=""==p?n:"".concat(p,"-").concat(n),0===f?e.name="string"!=typeof(t=n)?"":t.replace(/[\ \\\/\_]/g,"-").toLowerCase():1===f?e.name=function(e){return"string"!=typeof e?"":e.replace(/[\ \\\/\-\–\—]/g,"_").toLowerCase()}(n):2===f&&(e.name=function(e){if("string"!=typeof e)return"";e=e.toLowerCase().split(/[\ \\\/\_\-\–\—]/g);for(var t=0;t<e.length;t++)e[t]=e[t].charAt(0).toUpperCase()+e[t].slice(1);return e.join("")}(n))}));var N={formats:y,scales:F,output:x};o.a.export(b,N),b.forEach((function(e,t){e.name=v[t]})),o.a.UI.message("Exported ".concat(b.length," layers."))}}}else o.a.UI.message("No layers are selected.")}}}]);if("default"===e&&"function"==typeof n)n(t);else{if("function"!=typeof n[e])throw new Error('Missing export named "'+e+'". Your command should contain something like `export function " + key +"() {}`.');n[e](t)}}catch(a){if("undefined"==typeof process||!process.listenerCount||!process.listenerCount("uncaughtException"))throw a;process.emit("uncaughtException",a,"uncaughtException")}}globalThis.onRun=__skpm_run.bind(this,"default");